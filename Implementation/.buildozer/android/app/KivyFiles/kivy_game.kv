#:import Factory kivy.factory.Factory

<ActionTime>:
    pos_hint:{"x": 0.0, "y": 0.0}
    size_hint:(1.0, 1.0)
    background: "Images/black.png"
    Label:
        id: action_time_label
        pos_hint:{"x": 0.0, "y": 0.0}
        size_hint:(1.0, 1.0)
        color: 2.0, 2.0, 2.0, 1.0
        font_size: self.height * 0.2
        text:size=self.size
        text: ""
        halign:'center'
        valign:'middle'


<GameWindow>:
    FloatLayout:
        Background:
            id: background
            canvas.before:
                Rectangle:
                    source: self.this_source
                    size: self.width, self.height
                    pos: self.pos

        Label:
            id: time_label
            text:"12 HOURS OF DAYLIGHT REMAINING"
            font_size: self.height*0.15
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            pos_hint:{"x": 0.02, "y": 0.85}
            size_hint: 0.33, 0.23

        Label:
            id: location_label
            text:"PIKE LAKE | DAY 1 | 50 MILES LEFT"
            font_size: self.height*0.14
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            pos_hint:{"x": 0.02, "y": 0.79}
            size_hint: 0.33, 0.23

        Button:
            pos_hint:{"x": 0.36, "y": 0.61}
            size_hint: 0.17, 0.23
            background_color: 0.0, 0.0, 0.0, 1.0
            font_size: self.height*0.2
            text: "SHELTER"
            on_release:
                root.manager.transition.direction = "right"
                root.change_window("shelter")

        Button:
            pos_hint:{"x": 0.57, "y": 0.61}
            size_hint: 0.17, 0.23
            background_color: 0.0, 0.0, 0.0, 1.0
            text: "FIRE"
            disabled: True
            disabled: False
            font_size: self.height*0.2
            on_release:
                root.manager.transition.direction = "right"
                root.change_window("fire")

        Button:
            pos_hint:{"x": 0.78, "y": 0.61}
            size_hint: 0.17, 0.23
            background_color: 0.0, 0.0, 0.0, 1.0
            disabled: True
            text: "GET WATER"
            font_size: self.height*0.2


        Button:
            id: wood_button
            pos_hint:{"x": 0.36, "y": 0.34}
            size_hint: 0.17, 0.23
            text: "GET WOOD"
            font_size: self.height*0.2
            background_color: 0.0, 0.0, 0.0, 1.0
            disabled: True
            opacity: 0 if self.disabled else 1
            on_release:
                root.get_wood()
                Factory.ActionTime("Searching...").open()

        Button:
            pos_hint:{"x": 0.57, "y": 0.34}
            size_hint: 0.17, 0.23
            text: "CRAFT"
            disabled: True
            background_color: 0.0, 0.0, 0.0, 1.0
            font_size: self.height*0.2
            on_release:
                root.manager.transition.direction = "right"
                root.change_window("crafting")

        Button:
            pos_hint:{"x": 0.78, "y": 0.34}
            size_hint: 0.17, 0.23
            text: "INVENTORY"
            disabled: False
            background_color: 0.0, 0.0, 0.0, 1.0
            font_size: self.height*0.2
            on_release:
                root.manager.transition.direction = "right"
                root.change_window("inventory")

        Button:
            pos_hint:{"x": 0.36, "y": 0.07}
            size_hint: 0.17, 0.23
            font_size: self.height*0.2
            text: "EXPLORE"
            background_color: 0.0, 0.0, 0.0, 1.0
            on_release:
                root.explore()
                Factory.ActionTime("Exploring...").open()

        Button:
            pos_hint:{"x": 0.57, "y": 0.07}
            size_hint: 0.17, 0.23
            text: "TRAPS/HUNT"
            disabled: True
            background_color: 0.0, 0.0, 0.0, 1.0
            font_size: self.height*0.18
            on_release:
                root.manager.transition.direction = "right"
                root.change_window("hunting")

        Button:
            pos_hint:{"x": 0.78, "y": 0.07}
            size_hint: 0.17, 0.23
            text: "TRAVEL"
            background_color: 0.0, 0.0, 0.0, 1.0
            font_size: self.height*0.2
            on_release:
                root.manager.transition.direction = "right"
                root.change_window("travel")

        Button:
            pos_hint:{"x": 0.91, "y": 0.90}
            size_hint: 0.04, 0.07
            background_color: 0.0, 0.0, 0.0, 1.0
            bold: True
            font_size: self.height*0.5
            text: "||"
            on_release:
                root.manager.transition.direction = "right"
                root.change_window("pause")

        Label:
            id: calories_label
            text:"CALORIES: 1100/3000"
            size_hint: 0.25, 0.1
            font_size: self.height*0.35
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            pos_hint:{"x": 0.05, "y": 0.017}

        ProgressBar:
            id: my_condition_bar
            min: 0
            max: 100
            value: 100
            background_color: 1, 0.3, 0.4, 0.85
            pos_hint:{"x": 0.05, "y": 0.25}
            size_hint: 0.25, 0.15

        Label:
            id: condition_label
            text:"CONDITION"
            size_hint: 0.25, 0.23
            font_size: self.height*0.15
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            pos_hint:{"x": 0.05, "y": 0.25}

        Label:
            id: condition_label_value
            text:"100"
            size_hint: 0.25, 0.23
            font_size:self.height*0.15
            text_size: self.size
            halign: 'right'
            valign: 'middle'
            pos_hint:{"x": 0.05, "y": 0.25}

        ProgressBar:
            id: my_heat_bar
            min: 0
            max: 100
            value: 100
            pos_hint:{"x": 0.05, "y": 0.15}
            size_hint: 0.25, 0.15

        Label:
            id: heat_label
            text:"BODY HEAT"
            size_hint: 0.25, 0.23
            font_size: self.height*0.15
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            pos_hint:{"x": 0.05, "y": 0.155}

        Label:
            id: heat_label_value
            text:"100"
            size_hint: 0.25, 0.23
            font_size: self.height*0.15
            text_size: self.size
            halign: 'right'
            valign: 'middle'
            pos_hint:{"x": 0.05, "y": 0.155}

        ProgressBar:
            id: my_hydration_bar
            min: 0
            max: 100
            value: 100
            pos_hint:{"x": 0.05, "y": 0.05}
            size_hint: 0.25, 0.15

        Label:
            id: hydration_label
            text:"HYDRATION"
            size_hint: 0.25, 0.23
            font_size: self.height*0.15
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            pos_hint:{"x": 0.05, "y": 0.055}

        Label:
            id: hydration_label_value
            text:"100"
            size_hint: 0.25, 0.23
            font_size: self.height*0.15
            text_size: self.size
            halign: 'right'
            valign: 'middle'
            pos_hint:{"x": 0.05, "y": 0.055}
